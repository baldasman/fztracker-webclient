<div class="d-flex flex-column-fluid">

  <div class="container">
  
    <div class="d-flex flex-row">
    
      <div class="flex-row-auto offcanvas-mobile w-300px w-xl-350px" id="kt_profile_aside">
      
        <div class="card card-custom">
  
          <div class="card-body pt-15">
       
            <div class="text-center mb-10">
              <div class="symbol symbol-60 symbol-circle symbol-xl-90">
                <div class="symbol-label" style="background-image: url({{urlImage}})"></div>
                <i class="symbol-badge symbol-badge-bottom bg-success"></i>
              </div>
              <h4 class="font-weight-bold my-2">{{name}}</h4>
              <div class="text-muted mb-2">{{cardType}}</div>
            
              <span class="label label-light-success label-inline font-weight-bold label-lg">Active</span>
            </div>

            <div class="navi navi-bold navi-hover navi-active navi-link-rounded">
            
              <div class="navi-item mb-2">
                <a href="/profileEdit/{{profile}}" class="navi-link py-4">
                  <span class="navi-icon mr-2">
                    <span class="svg-icon">
                    
                    

                    <span class="svg-icon svg-icon-primary svg-icon-2x"><!--begin::Svg Icon | path:/var/www/preview.keenthemes.com/metronic/releases/2021-05-03-183419/theme/html/demo1/dist/../src/media/svg/icons/Shopping/Rouble.svg--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                          <rect x="0" y="0" width="24" height="24"/>
                          <path d="M5.3618034,16.2763932 L5.8618034,15.2763932 C5.94649941,15.1070012 6.11963097,15 6.30901699,15 L16.190983,15 C16.4671254,15 16.690983,15.2238576 16.690983,15.5 C16.690983,15.5776225 16.6729105,15.6541791 16.6381966,15.7236068 L16.1381966,16.7236068 C16.0535006,16.8929988 15.880369,17 15.690983,17 L5.80901699,17 C5.53287462,17 5.30901699,16.7761424 5.30901699,16.5 C5.30901699,16.4223775 5.32708954,16.3458209 5.3618034,16.2763932 Z" fill="#000000" opacity="0.3"/>
                          <path d="M8,3.716 L13.107,3.716 C14.042338,3.716 14.8856629,3.80033249 15.637,3.969 C16.3883371,4.13766751 17.0323306,4.41366475 17.569,4.797 C18.1056693,5.18033525 18.5196652,5.67099701 18.811,6.269 C19.1023348,6.86700299 19.248,7.58766245 19.248,8.431 C19.248,9.33567119 19.079335,10.0946636 18.742,10.708 C18.404665,11.3213364 17.9485029,11.8158315 17.3735,12.1915 C16.7984971,12.5671685 16.1276705,12.8393325 15.361,13.008 C14.5943295,13.1766675 13.781671,13.261 12.923,13.261 L10.692,13.261 L10.692,20 L8,20 L8,3.716 Z M12.716,10.823 C13.1913357,10.823 13.6436645,10.7885003 14.073,10.7195 C14.5023355,10.6504997 14.885665,10.5278342 15.223,10.3515 C15.560335,10.1751658 15.8286657,9.9336682 16.028,9.627 C16.2273343,9.3203318 16.327,8.92166912 16.327,8.431 C16.327,7.95566429 16.2273343,7.5685015 16.028,7.2695 C15.8286657,6.97049851 15.5641683,6.73666751 15.2345,6.568 C14.9048317,6.39933249 14.5291688,6.28816694 14.1075,6.2345 C13.6858312,6.18083307 13.2526689,6.154 12.808,6.154 L10.692,6.154 L10.692,10.823 L12.716,10.823 Z" fill="#000000"/>
                      </g>
                    </svg><!--end::Svg Icon--></span>


                      <!--end::Svg Icon-->
                    </span>
                  </span>
                  <span class="navi-text font-size-lg">Viaturas Pessoais</span>
                </a>
              </div>
          
         

            </div>

            <!--end::Nav-->
          </div>
          <!--end::Body-->
        </div>
        <!--end::Card-->
      </div>
      <!--end::Aside-->
      <!--begin::Content-->
      
    </div>
  </div>
</div>
<div class="d-flex flex-column-fluid">
 
  <div class="container">
  
    <div class="card card-custom">
      <!--begin::Header-->
      <div class="card-header flex-wrap border-0 pt-6 pb-0">
        <div class="card-title">
          <h3 class="card-label">Lista de Registos
            <span class="d-block text-muted pt-2 font-size-sm">Ultimos 30 Dias Movimentos Realizados</span>
          </h3>
        </div>
         <!--campo de pesquisa -->
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Pesquisar" [(ngModel)]="term">
        </div>
      </div>

      <div class="card-body">
        <!--begin: Datatable-->
        <div class="datatable datatable-bordered datatable-head-custom" id="kt_datatable">
          <table class="newtable">
            <thead class="datatable-head">
              <tr class="datatable-row" style="left: 0px;">
                <th data-field="RecordID"
                  class="datatable-cell-left datatable-cell datatable-cell-sort datatable-cell-sorted" data-sort="asc">
                  <span style="width: 40px;">#<i class="flaticon2-arrow-up"></i></span></th>
                <th data-field="OrderID" class="datatable-cell datatable-cell-sort"><span
                    style="width: 250px;">Entidade</span></th>
                <th data-field="Country" class="datatable-cell datatable-cell-sort"><span style="width: 158px;">Cartão
                    Atribuido</span></th>
                <th data-field="ShipDate" class="datatable-cell datatable-cell-sort"><span
                    style="width: 158px;">Movimento</span></th>
                <th data-field="CompanyName" class="datatable-cell datatable-cell-sort"><span
                    style="width: 158px;">Local e Notas</span></th>
                <th data-field="Status" class="datatable-cell datatable-cell-sort"><span
                    style="width: 158px;">Status</span></th>

              </tr>
            </thead>
            <tbody class="datatable-body">


              <tr *ngFor="let movement of movements |filter:term | paginate: {currentPage: paginaAtual,  itemsPerPage: itemsPerPage} ; let i = index ;" data-row="46"
                class="datatable-row datatable-row-even" style="left: 0px;">
                <td class="datatable-cell-sorted datatable-cell-left datatable-cell" data-field="RecordID"
                  aria-label="00"><span style="width: 40px;"><span class="font-weight-bolder">{{itemsPerPage * (paginaAtual - 1) + (i+1) }}</span></span>
                </td>
                <td data-field="OrderID" aria-label="0781-5555" class="datatable-cell"><span style="width: 250px;">
                    <div class="d-flex align-items-center">
                      <div class="imgmil">
                        <div class="symbol symbol-40 symbol-sm flex-shrink-0">

                          <img src="assets/media/users/{{movement.entitySerial}}.bmp" (click)="Abc(i)" alt="photo">
                        </div>
                      </div>
                      <div class="ml-4">
                        <a href="/profile" class="text-dark-75 font-weight-bolder font-size-lg mb-0 text-hover-primary">
                          {{movement.entityName}}</a>
                        <div class="text-muted font-weight-bold ">{{movement.entitySerial}}</div>
                      </div>
                    </div>
                  </span></td>
                <td data-field="card" aria-label="Indonesia" class="datatable-cell"><span style="width: 158px;">
                    <div class="font-weight-bolder font-size-lg mb-0">{{movement.cardNumber}}</div>
                    <div class="font-weight-bold text-muted">UID:{{cardUid}}</div>
                  </span></td>

                <td data-field="cardDate" aria-label="3/17/2017" class="datatable-cell"><span style="width: 158px;">
                    <div class="font-weight-bolder font-size-lg mb-0">{{movement.movementDate | date:'dd/MM/yyyy'}}
                    </div>
                    <div class="text-muted">{{movement.movementDate | date: ' HH:mm' }}</div>
                  </span></td>

                <td data-field="Lastregist" aria-label="Beier-Mante" class="datatable-cell">
                  <span style="width: 158px;">
                    <div class="font-weight-bolder font-size-lg mb-0">{{movement.location}}</div>
                    <div class="text-muted">falta as notas do movimento</div>

                  </span>
                </td>
                <td data-field="Status" aria-label="5" class="datatable-cell"><span style="width: 158px;"><span
                    [ngClass]="{'label-success': movement.inOut,'label-danger': !movement.inOut}"  class="label label-lg font-weight-bold {{movement.inOut}} label-inline">{{movement.inOut ? 'ENTROU':'SAIU'}}</span></span>
                </td>

              </tr>



            </tbody>
            <tfoot>
              <tr>
                <td colspan="6" class="p-3">
                  <pagination-controls class="d-flex justify-content-end " (pageChange)="paginaAtual = $event"
                    previousLabel="Anterior" nextLabel="Próximo"></pagination-controls>
                </td>
              </tr>
            </tfoot>


          </table>
        </div>
        <!--end: Datatable-->


      </div>
      <!--end::Body-->
    </div>
    <!--end::Card-->
  </div>
  <!--end::Container-->
</div>
<!--end::Entry-->