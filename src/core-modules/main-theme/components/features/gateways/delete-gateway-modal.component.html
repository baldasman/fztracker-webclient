<main-theme-modal (dismissEvent)="onClose()">

  <ng-container header>{{ 'labels.delete_gateway' | translate }}</ng-container>

  <ng-container body>
    <div *ngIf="hasError" class="pb-3">
      <div class="alert alert-outline-danger fade show m-0" role="alert">
        <div class="alert-icon"><i class="fa fa-exclamation-triangle danger-alert-icon"></i></div>
        <div class="alert-text"> {{ 'messages.errors.wrong_label_key' | translate }}</div>
        <div class="alert-close">
          <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)="onClearError()">
            <i class="fa fa-times"></i>
          </button>
        </div>
      </div>
    </div>
    <div class="confirmation-message"> {{ 'messages.warnings.delete_gateway_confirmation_message' | translate }} </div>
    <div class="d-flex pt-3">
      <div class="w-100 separator">
        <span> {{ gateway?.name }} ({{ numberOfResources }})</span>
      </div>
      <a tabindex="-1" class="separator-arrow" href="javascript:;" (click)="toggleGatewayInformation()">
        <i class="fa" [ngClass]="{ 'fa-chevron-up': !isVisible, 'fa-chevron-down': isVisible }"></i>
      </a>
    </div>
    <div [@grow]="isVisible ? 'big' : 'small'">
      <div class="row align-items-center">
        <div class="col">
          <div class="title"> {{ 'labels.field_devices' | translate }} </div>
          <div>
            {{ 'labels.field_devices_total' | translate }}
          </div>
        </div>
        <div class="col text-right">
          <span class="number">
            {{ numberOfFieldDevices }}
          </span>
        </div>
      </div>
      <hr />
    </div>
    <div [hidden]="!isVisible">
      <div class="row align-items-center">
        <div class="col">
          <div class="title"> {{ 'labels.application_objects' | translate }} </div>
          <div>{{ 'labels.application_objects_total' | translate }}</div>
        </div>
        <div class="col text-right">
          <span class="number">{{ numberOfApplicationDevices }}</span>
        </div>
      </div>
      <hr />
    </div>
    <div class="pt-2">
      {{ 'labels.insert_the' | translate }}
      <span class="danger-word">{{ 'labels.label_key' | translate }}</span>
      {{ 'messages.warnings.delete_gateway_message' | translate }}
    </div>
    <form class="w-100 pt-3" [formGroup]="form" (ngSubmit)="onDelete()">
      <catalog-forms-input type="labelKey" [formControlField]="f.labelKey" formControlName="labelKey"
        placeholder="{{ 'labels.label_key' | translate }}" required="true" maxLength="16">
      </catalog-forms-input>
    </form>
  </ng-container>

  <ng-container footer>
    <button tabindex="2" type="button" class="btn-cancel"
      (click)="onClose()">{{ 'dictionary.cancel' | translate | titlecase }}</button>
    <button tabindex="3" type="submit" class="btn-danger"
      (click)="onDelete()">{{ 'dictionary.delete' | translate | titlecase }}</button>
  </ng-container>

</main-theme-modal>